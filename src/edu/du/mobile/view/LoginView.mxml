<?xml version="1.0"?>
<!--
  Created by jun on 9/14/14.
-->
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:s="library://ns.adobe.com/flex/spark"
        xmlns:popups="edu.du.mobile.view.popups.*">

    <fx:Script>
        <![CDATA[
                import mx.managers.PopUpManager;

                private function _onSubmitClick( event:Event ):void
                    {
                        if(username_ti.text == "" && password_ti.text == "")
                        {
                            loginPopup.open(this, true);
                            loginPopup.title = "Login Failed";
                            loginPopup.message = "Please enter your username and password.";
                            PopUpManager.centerPopUp(loginPopup);
                        }
                        else if (username_ti.text.toLowerCase() != "student" //user name not case sensitive
                                || password_ti.text != "password") //password is case sensitive
                        {
                            loginPopup.open(this, true);
                            loginPopup.title = "Entry Invalid";
                            loginPopup.message = "Username or password is incorrect. Please try again.";
                            PopUpManager.centerPopUp(loginPopup);
                        }
                        else
                        {
                            loginPopup.open(this, true);
                            loginPopup.title = "Login Successful";
                            loginPopup.message = "You are logged in.";
                            PopUpManager.centerPopUp(loginPopup);
                        }

                    }
                ]]>
    </fx:Script>

    <fx:Declarations>
        <popups:HelloWorldAppPopup id="loginPopup"/>
    </fx:Declarations>



    <s:layout>
        <s:VerticalLayout paddingTop="20" paddingLeft="20" paddingRight="20"
            clipAndEnableScrolling="true"/>
    </s:layout>


    <s:Label text="Please Login"
             fontSize="42"
             paddingLeft="100"
             paddingBottom="20"/>

    <s:Label text="Username or email"/>
    <s:TextInput id="username_ti"/>

    <s:Label text="password"
             paddingTop="20"/>
    <s:TextInput id="password_ti"
                 displayAsPassword="true"/>

    <s:Button id="submit_btn"
              label="Login"
              left="150"
              click="_onSubmitClick(event)"/>

</s:View>
